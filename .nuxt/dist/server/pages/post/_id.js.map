{"version":3,"file":"pages/post/_id.js","sources":["webpack:///./pages/post/_id.vue?7448","webpack:///./pages/post/_id.vue","webpack:///./pages/post/_id.vue?0281","webpack:///./pages/post/_id.vue?860e"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<section class=\\\"hero\\\">\",\"</section>\",[_vm._ssrNode(\"<div class=\\\"hero-body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container small\\\">\",\"</div>\",[_vm._ssrNode(\"<h1 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.ui.title))+\"</h1> <p class=\\\"subtitle\\\">\"+_vm._ssrEscape(_vm._s(_vm.ui.short_description))+\"</p> \"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"credit: \"),_c('n-link',{attrs:{\"to\":(\"/profile/\" + (_vm.ui.meta.author))}},[_vm._v(_vm._s(_vm.ui.meta.author))])],2)],2),_vm._ssrNode(\" <div class=\\\"container media-show\\\"><div class=\\\"columns\\\"><div class=\\\"column has-text-centered\\\"><div class=\\\"image\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.ui.medias[_vm.index].sizes['full_size']))+(_vm._ssrAttr(\"alt\",_vm.ui.medias[_vm.index].title))+\"></div></div> <div class=\\\"column is-3\\\"><div class=\\\"columns is-mobile is-multiline\\\">\"+(_vm._ssrList((_vm.ui.medias),function(media,i){return (\"<div class=\\\"column is-6\\\"><div class=\\\"clickable\\\"><div class=\\\"image\\\"><img\"+(_vm._ssrAttr(\"src\",media.sizes['thumb_247_247']))+(_vm._ssrAttr(\"alt\",media.title))+\"></div></div></div>\")}))+\"</div></div></div></div> \"),_vm._ssrNode(\"<div class=\\\"container small\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"buttons\\\" style=\\\"justify-content: center;\\\">\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"button is-medium\",{'is-success': _vm.ui['vote_object'].is_voted}))+\">\",\"</div>\",[_c('b-icon',{attrs:{\"icon\":\"heart\"}}),_vm._ssrNode(\" <span>\"+_vm._ssrEscape(_vm._s(_vm.ui['vote_object'].total))+\"</span>\")],2),_vm._ssrNode(\" \"+((_vm.ui['meta'] && _vm.ui['meta']['view_count'])?(\"<div class=\\\"button is-text\\\">\"+_vm._ssrEscape(\"\\n                        \"+_vm._s(_vm.ui['meta']['view_count'])+\" views\\n                    \")+\"</div>\"):\"<!---->\")+\" \"),(_vm.ui['meta'] && _vm.ui['meta']['source_url'])?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.ui['meta']['source_url']))+\" target=\\\"_blank\\\" class=\\\"button is-text is-small\\\">\",\"</a>\",[_c('b-icon',{attrs:{\"size\":\"is-small\",\"icon\":\"link\"}})],1):_vm._e()],2),_vm._ssrNode(\" \"),(_vm.updating)?_c('b-field',{attrs:{\"label\":\"Add some tags\",\"label-position\":\"on-border\"}},[_c('field-data',{attrs:{\"module\":\"hash_tag\",\"multiple\":\"\",\"icon\":\"label\"},model:{value:(_vm.ui.hash_tags),callback:function ($$v) {_vm.$set(_vm.ui, \"hash_tags\", $$v)},expression:\"ui.hash_tags\"}})],1):_c('div',{staticClass:\"tags\",staticStyle:{\"justify-content\":\"center\"}},_vm._l((_vm.ui.terms),function(t){return _c('n-link',{key:t.id,staticClass:\"tag is-medium\",attrs:{\"to\":(\"/\" + (t['term']['slug']))}},[_c('b-icon',{attrs:{\"size\":\"is-small\",\"icon\":\"label\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(t['term']['title']))])],1)}),1),_vm._ssrNode(\" \"+((_vm.currentUser && _vm.currentUser.username === 'lam')?(\"<div class=\\\"buttons\\\" style=\\\"justify-content: center\\\">\"+((_vm.updating)?(\"<div class=\\\"button\\\">Save</div>\"):\"<!---->\")+\" <div class=\\\"button is-text\\\">\"+_vm._ssrEscape(_vm._s(_vm.updating ? 'Cancel' : 'Update')+\"\\n                    \")+\"</div></div>\"):\"<!---->\")+\" \"),_vm._ssrNode(\"<div class=\\\"buttons\\\" style=\\\"justify-content: center;\\\">\",\"</div>\",[(_vm.ui.previous)?_c('n-link',{staticClass:\"button is-large\",attrs:{\"to\":(\"/post/\" + (_vm.ui.previous.id))}},[_c('b-icon',{attrs:{\"icon\":\"chevron-left\"}})],1):_vm._e(),_vm._ssrNode(\" \"),(_vm.ui.next)?_c('n-link',{staticClass:\"button is-large\",attrs:{\"to\":(\"/post/\" + (_vm.ui.next.id))}},[_c('b-icon',{attrs:{\"icon\":\"chevron-right\"}})],1):_vm._e()],2)],2)],2)]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<section class=\\\"hero is-light\\\">\",\"</section>\",[_vm._ssrNode(\"<div class=\\\"hero-body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container small\\\">\",\"</div>\",[_vm._ssrNode(\"<h4 class=\\\"widget_title\\\">Response</h4> \"),_c('comment-form',{attrs:{\"ui\":_vm.ui,\"parent\":_vm.commentParent},on:{\"posted\":function($event){return _vm.fetch()}}},[(_vm.commentParent)?_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"button\",on:{\"click\":function($event){_vm.commentParent = null}}},[_c('b-icon',{attrs:{\"size\":\"is-small\",\"icon\":\"window-close\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Replying \"+_vm._s(_vm.convertName(_vm.commentParent.user)))])],1)]):_vm._e()]),_vm._ssrNode(\" \"),_vm._l((_vm.response.results),function(comment){return _c('comment',{key:comment.id,attrs:{\"ui\":_vm.ui,\"value\":comment,\"avatar-size\":\"is-24x24\"},on:{\"reply\":_vm.reply}})})],2)])]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<section class=\\\"hero\\\">\",\"</section>\",[_vm._ssrNode(\"<div class=\\\"hero-body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<h4 class=\\\"widget_title\\\">RELATED UI</h4> \"),(_vm.ui.related)?_vm._ssrNode(\"<div class=\\\"columns is-multiline\\\">\",\"</div>\",_vm._l((_vm.ui.related),function(u,i){return _vm._ssrNode(\"<div class=\\\"column is-3\\\">\",\"</div>\",[_c('ui',{attrs:{\"value\":u}})],1)}),0):_vm._e()],2)])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name: \"PostDetail\",\n    async asyncData({$api, params}) {\n        let ui = await $api['post'].get(params.id, {params: {uid: true}});\n        return {\n            ui: ui,\n            response: await $api['post']['comment'](ui.id)\n        }\n    },\n    data() {\n        return {\n            index: 0,\n            commentParent: null,\n            updating: false\n        }\n    },\n    head() {\n        return {\n            title: this.ui ? this.ui.title : 'UIHunt',\n            meta: [\n                {\n                    hid: 'description',\n                    name: 'description',\n                    content: this.ui.short_description\n                }\n            ]\n        }\n    },\n    methods: {\n        vote() {\n            if (this.currentUser) {\n                this.$api.ui.vote(this.ui.id, {}).then(res => {\n                    this.ui.is_voted = res;\n                    if (res) {\n                        this.ui['vote_count']++;\n                    } else {\n                        this.ui['vote_count']--\n                    }\n                })\n            } else {\n                this.$buefy.toast.open({\n                    message: 'Login required!',\n                    type: 'is-warning'\n                })\n            }\n        },\n        reply(comment) {\n            this.commentParent = comment;\n        },\n        async fetch() {\n            this.response.results = [];\n            this.response = await this.$api.comment.list({\n                ui: this.ui.id\n            })\n        },\n        submit() {\n            this.$api.ui.update(this.ui.id, {\n                hash_tags: this.ui.hash_tags.map(x => x.id)\n            })\n        }\n    },\n    mounted() {\n        this.toTop();\n    },\n    watch: {\n        $route(to, from) {\n            this.toTop();\n        }\n    }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_id.vue?vue&type=template&id=2a4719e9&\"\nimport script from \"./_id.vue?vue&type=script&lang=js&\"\nexport * from \"./_id.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"4b34f3ce\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAHA;AAUA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAhCA;AACA;AAgCA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAhEA;;ACvGA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}